Array.prototype.add=function(a){return this.map(function(d,c,b,e){return b[c]+a[c]})};Array.prototype.sub=function(a){return this.map(function(d,c,b,e){return b[c]-a[c]})};Array.prototype.mul=function(a){return this.map(function(d,c,b,e){return b[c]*a})};Array.prototype.div=function(a){return this.map(function(d,c,b,e){return b[c]/a})};Array.prototype.mag=function(){return Math.sqrt(this.magSq())};Array.prototype.dist=function(a){return Math.sqrt(this.distSq(a))};
Array.prototype.distSq=function(a){return this.reduce(function(d,c,b,e){return d+(e[b]-a[b])*(e[b]-a[b])},0)};Array.prototype.magSq=function(){return this.reduce(function(a,d,c,b){return a+d*d},0)};Array.prototype.dot=function(a){return this.reduce(function(d,c,b,e){return d+e[b]*a[b]},0)};Array.prototype.cross=function(a){return[this[1]*a[2]-this[2]*a[1],this[2]*a[0]-this[0]*a[2],this[0]*a[1]-this[1]*a[0]]};Array.prototype.x=function(a){a&&(this[0]=a);return this[0]};
Array.prototype.y=function(a){a&&(this[1]=a);return this[1]};Array.prototype.z=function(a){a&&(this[2]=a);return this[2]};Array.prototype.norm=function(){return this.div(this.mag())};Math.clamp=function(a,d,c){return Math.max(d,Math.min(c,a))};Object.getOwnPropertyNames(Math).forEach(function(a){Array.prototype[a]=function(){var d=Array.from(arguments);return this.map(function(c,b,e){return Math[a].apply(0,[c].concat(d))})}});
