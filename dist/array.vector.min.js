Array.prototype.distSq=function(a){return this.reduce(function(d,b,c,e){return d+(e[c]-a[c])*(e[c]-a[c])},0)};Array.prototype.dist=function(a){return Math.sqrt(this.distSq(a))};Array.prototype.magSq=function(a){return this.reduce(function(a,b,c,e){return a+b*b},0)};Array.prototype.mag=function(a){return Math.sqrt(this.magSq(a))};Array.prototype.add=function(a){return this.map(function(d,b,c){return c[b]+a[b]})};Array.prototype.sub=function(a){return this.map(function(d,b,c){return c[b]-a[b]})};
Array.prototype.mul=function(a){return this.map(function(d,b,c){return c[b]*a})};Array.prototype.div=function(a){return this.map(function(d,b,c){return c[b]/a})};Array.prototype.dot=function(a){return this.reduce(function(d,b,c,e){return d+e[c]*a[c]},0)};Array.prototype.cross=function(a){return[this[1]*a[2]-this[2]*a[1],this[2]*a[0]-this[0]*a[2],this[0]*a[1]-this[1]*a[0]]};Array.prototype.x=function(a){a&&(this[0]=a);return this[0]};Array.prototype.y=function(a){a&&(this[1]=a);return this[1]};
Array.prototype.z=function(a){a&&(this[2]=a);return this[2]};Math.clamp=function(a,d,b){return Math.max(d,Math.min(b,a))};Object.getOwnPropertyNames(Math).forEach(function(a){Array.prototype[a]=function(){var d=Array.from(arguments);return this.map(function(b,c,e){return Math[a].apply(0,[b].concat(d))})}});
