Array.prototype.distSq=function(a){return this.reduce(function(d,b,c,e){return d+Math.pow(e[c]-a[c],2)},0)};Array.prototype.dist=function(a){return Math.sqrt(this.distSq(a))};Array.prototype.magSq=function(a){return this.reduce(function(a,b,c,e){return a+b*b},0)};Array.prototype.mag=function(a){return Math.sqrt(this.magSq(a))};Array.prototype.add=function(a){return this.map(function(d,b,c){return c[b]+a[b]})};Array.prototype.sub=function(a){return this.map(function(d,b,c){return c[b]-a[b]})};
Array.prototype.mul=function(a){return this.map(function(d,b,c){return c[b]*a})};Array.prototype.div=function(a){return this.map(function(d,b,c){return c[b]/a})};Array.prototype.dot=function(a){return this.reduce(function(d,b,c,e){return d+e[c]*a[c]},0)};Array.prototype.cross=function(a){return[this[1]*a[2]-this[2]*a[1],this[2]*a[0]-this[0]*a[2],this[0]*a[1]-this[1]*a[0]]};["x","y","z"].forEach(function(a){Array.prototype[a]=function(d){var b=a.charCodeAt(0)-120;d&&(this[b]=d);return this[b]}});
Math.clamp=function(a,d,b){return Math.max(d,Math.min(b,a))};"abs ceil clamp floor max min round".split(" ").forEach(function(a){Array.prototype[a]=function(){var d=Array.from(arguments);return this.map(function(b,c,e){return Math[a].apply(null,[b].concat(d))})}});
